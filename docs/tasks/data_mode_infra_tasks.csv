ID,Epic,Title,Description,Status,Priority,DependsOn,Deliverables,Owner,Estimation,Notes
T-30,M8 - Data Mode V2 (binary, resumable, secure),DM protocol framing (binary),COBS/SLIP or length-prefix frame with header {ver,flags,seq,ack,type,win,len} and CRC32 trailer; implement ACK/NACK windowing,To Do,High,T-31;T-33;T-46,Header spec + encoder/decoder + CRC32 unit tests,,5,Define frame types and error codes
T-31,M8 - Data Mode V2 (binary, resumable, secure),Transport abstraction,Define ITransport interface and Serial adapter; decouple framing from transport (future WS/TCP),To Do,High,T-33,Interface + Serial transport stub + tests,,3,Keep zero-copy buffers where possible
T-32,M8 - Data Mode V2 (binary, resumable, secure),Auth + session handshake,Token from mode.cfg + nonce challenge; single-client guard; optional HMAC; session states,To Do,High,T-33;T-30;T-31,Handshake flow spec + stubbed impl + tests,,5,Pluggable auth policy
T-33,M8 - Data Mode V2 (binary, resumable, secure),Flow control & backpressure,Windowed ACKs; adaptive chunk sizing based on loop timing and RX watermark,To Do,High,T-34;T-30;T-31;T-32,Window/ACK logic + timers + tests,,5,Simulate loss/dup/latency
T-34,M8 - Data Mode V2 (binary, resumable, secure),Resumable upload,.part files with offset resume (FS_RESUME); track per-file size and CRC,To Do,High,T-35,Resume algorithm + manifest format + tests,,5,Idempotent chunks
T-35,M8 - Data Mode V2 (binary, resumable, secure),Transaction journal & crash recovery,/.journal append-only; boot-time scan to roll-forward/abort safely,To Do,High,T-36,Journal entry schema + replay logic + tests,,5,Power-loss safety
T-36,M8 - Data Mode V2 (binary, resumable, secure),Atomic commit + verify,Size/CRC verify then rename-swap with backup tree; fsync barriers; cleanups,To Do,High,T-37,Commit routine + verification + tests,,8,Staging directory approach
T-37,M8 - Data Mode V2 (binary, resumable, secure),Rollback command,ROLLBACK_LAST restores from last backup and clears journal,To Do,Medium,,Rollback verb + tests,,3,Guard by auth level
T-38,M8 - Data Mode V2 (binary, resumable, secure),Path safety + quota,Normalize paths; whitelist roots; reject .. and absolute; free-space/quota checks,To Do,High,T-34,Validator module + tests,,3,Prevent traversal
T-39,M8 - Data Mode V2 (binary, resumable, secure),Peripherals control API,Volume/beep/LED/I2C scan/SD_FREE/READ_BUTTONS verbs for diagnostics,To Do,Medium,T-45,Verb list + stub handlers + tests,,3,Non-blocking ops only
T-40,M8 - Data Mode V2 (binary, resumable, secure),Health & telemetry,GET_INFO (firmware, proto, caps) + STREAM_LOGS ring buffer streaming,To Do,Medium,,Info schema + telemetry counters + tests,,3,Consider rate limits
T-41,M8 - Data Mode V2 (binary, resumable, secure),Watchdogs & timeouts,Session/frame timeouts; heartbeat; maintenance LED state and safe escape,To Do,Medium,,Timeout matrix + heartbeat impl + tests,,3,Fail-safe defaults
T-42,M8 - Data Mode V2 (binary, resumable, secure),Desktop robust updater,Retries/backoff/resume; progress + hash verification in client,To Do,Medium,T-48;T-33;T-34,Client updater module + UI hooks + tests,,5,User-friendly error UX
T-43,M8 - Data Mode V2 (binary, resumable, secure),Desktop multi-transport,Abstraction for Serial now and WS/TCP later with seamless fallback,To Do,Medium,,Transport adapters + tests,,3,Pluggable strategy
T-44,M8 - Data Mode V2 (binary, resumable, secure),Desktop token storage,OS keychain storage + rotation flow for the auth token,To Do,Low,,Keychain wrapper + rotation UX + tests,,2,Avoid plain files
T-45,M8 - Data Mode V2 (binary, resumable, secure),Desktop diagnostics suite,One-click health report combining GET_INFO, SD_FREE, I2C_SCAN, button matrix,To Do,Low,,Diagnostics module + UI + tests,,3,Export to JSON
T-46,M8 - Data Mode V2 (binary, resumable, secure),Protocol versioning/compat,DM_PROTO negotiation and capability bits; graceful declines,To Do,Medium,,Version matrix + negotiation tests,,3,Reserve feature flags
T-47,M8 - Data Mode V2 (binary, resumable, secure),Security hardening,Brute-force backoff, SIM_KEY rate-limit, optional HMAC for critical ops,To Do,Medium,,Security policy doc + guard code + tests,,3,Audit logs
T-48,M8 - Data Mode V2 (binary, resumable, secure),Soak & fault tests,Link drops/dups/NAKs/power-cuts with zero corruption and clean recovery,To Do,Medium,,Test harness + scenarios + reports,,8,Automate in CI
T-49,M8 - Data Mode V2 (binary, resumable, secure),Docs & reference CLI,Protocol spec + tiny Python client for CI/field workflows,To Do,Low,,Docs + example CLI + tests,,3,Keep CLI dependency-light
